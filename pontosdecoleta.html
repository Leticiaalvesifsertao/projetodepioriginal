<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Pontos de Coleta - Recicla+</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" crossorigin="" />

  <style>
    body {
      font-family: 'arial';
      background-color: #f1f1f1;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: #273c06;
      color: white;
      padding: 1rem;
      text-align: center;
    }

    header .btn {
      margin: 5px;
      font-weight: bold;
    }

    #map {
      height: 500px;
      width: 100%;
      margin: 20px auto;
      border: 2px solid #ccc;
      border-radius: 8px;
    }

    footer {
      background-color: #222;
      color: #fff;
      text-align: center;
      padding: 1rem;
      margin-top: 30px;
    }
  </style>
</head>
<body>

  <header>
    <h1>Pontos de Coleta</h1>
    <a href="paginainicial.html" class="btn btn-light">‚Üê Voltar para In√≠cio</a>
    <a href="locaissalvos.html" class="btn btn-warning">üìç Endere√ßos Salvos</a>
  </header>

  <main class="container">
    <p class="mt-4">Veja no mapa abaixo os locais de coleta seletiva em Petrolina:</p>
    <div id="map"></div>
  </main>

  <footer>
    <p>&copy; 2025 Recicla+. Todos os direitos reservados.</p>
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" crossorigin=""></script>
  <script>
    const mapa = L.map('map').setView([-9.390743, -40.502573], 13);

    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: '&copy; OpenStreetMap',
    }).addTo(mapa);

    const pontos = [
      { coords: [-9.393872, -40.507633], nome: "IF Sert√£o-PE - Campus Petrolina (Jo√£o de Deus)" },
      { coords: [-9.388018, -40.506357], nome: "Pra√ßa da Sementeira" },
      { coords: [-9.387022, -40.494217], nome: "Parque Josepha Coelho" },
      { coords: [-9.401210, -40.516437], nome: "Shopping Rio Corrente" },
      { coords: [-9.401864, -40.494221], nome: "Esta√ß√£o Rodovi√°ria de Petrolina" }
    ];

    // Fun√ß√£o para salvar no localStorage
    function salvarEndereco(nome, coords) {
      const enderecos = JSON.parse(localStorage.getItem("enderecosSalvos")) || [];
      enderecos.push({ nome, coords });
      localStorage.setItem("enderecosSalvos", JSON.stringify(enderecos));
      alert("Endere√ßo salvo com sucesso!");
    }

    pontos.forEach(ponto => {
      const botaoSalvar = `<br><button onclick='salvarEndereco("${ponto.nome}", [${ponto.coords}])' class="btn btn-sm btn-success mt-2">Salvar endere√ßo</button>`;
      L.marker(ponto.coords).addTo(mapa)
        .bindPopup(`<strong>${ponto.nome}</strong>${botaoSalvar}`);
    });
  </script>

</body>
</html>
